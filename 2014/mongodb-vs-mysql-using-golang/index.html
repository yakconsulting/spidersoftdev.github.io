<!doctype html><html class=no-js lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>MongoDB vs MySQL using golang - SpiderSoft</title><script>(function(e,t){e[t]=e[t].replace("no-js","js")})(document.documentElement,"className")</script><meta name=description content><meta property="og:url" content="https://www.spidersoft.com.au/2014/mongodb-vs-mysql-using-golang/"><meta property="og:site_name" content="SpiderSoft"><meta property="og:title" content="MongoDB vs MySQL using golang"><meta property="og:description" content="I’m the guy who like to test. Benchmark is my… middle name. You can find dozens articles about speed one or other solution. I mean MongoDB and MySQL . I tried MongoDB couple times, and each time I wasn’t moved by it speed. Got project coming in, when I have to deal with large amount of concurrent connection. It’s not very big, but bigger then casual MySQL load.
So… how did I test – very dump way. Got 2 tables, one around 11k records, second one close to 200k record. Not much. Fields were indexed in both MySQL and MongoDB. And then i run benchmarks. First one had string fields, second one numeric."><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2014-09-01T04:48:36+00:00"><meta property="article:modified_time" content="2014-09-01T04:48:36+00:00"><meta property="article:tag" content="Fo"><meta property="article:tag" content="Golang"><meta property="article:tag" content="Mongodb"><meta property="article:tag" content="Mysql"><meta itemprop=name content="MongoDB vs MySQL using golang"><meta itemprop=description content="I’m the guy who like to test. Benchmark is my… middle name. You can find dozens articles about speed one or other solution. I mean MongoDB and MySQL . I tried MongoDB couple times, and each time I wasn’t moved by it speed. Got project coming in, when I have to deal with large amount of concurrent connection. It’s not very big, but bigger then casual MySQL load.
So… how did I test – very dump way. Got 2 tables, one around 11k records, second one close to 200k record. Not much. Fields were indexed in both MySQL and MongoDB. And then i run benchmarks. First one had string fields, second one numeric."><meta itemprop=datePublished content="2014-09-01T04:48:36+00:00"><meta itemprop=dateModified content="2014-09-01T04:48:36+00:00"><meta itemprop=wordCount content="584"><meta itemprop=keywords content="Fo,Golang,Mongodb,Mysql"><meta name=twitter:card content="summary"><meta name=twitter:title content="MongoDB vs MySQL using golang"><meta name=twitter:description content="I’m the guy who like to test. Benchmark is my… middle name. You can find dozens articles about speed one or other solution. I mean MongoDB and MySQL . I tried MongoDB couple times, and each time I wasn’t moved by it speed. Got project coming in, when I have to deal with large amount of concurrent connection. It’s not very big, but bigger then casual MySQL load.
So… how did I test – very dump way. Got 2 tables, one around 11k records, second one close to 200k record. Not much. Fields were indexed in both MySQL and MongoDB. And then i run benchmarks. First one had string fields, second one numeric."><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=dns-prefetch href=//fonts.googleapis.com><link rel=dns-prefetch href=//fonts.gstatic.com><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700"><link rel=stylesheet href=/css/style.css><link rel=stylesheet href=/css/custom.css><link rel="shortcut icon" href=/favicon.ico></head><body class=body><div class="container container--outer"><header class=header><div class="container header__container"><div class="logo logo--mixed"><a class=logo__link href=/ title=SpiderSoft rel=home><div class="logo__item logo__imagebox"><img class=logo__img src=/images/logo-sq-trans-250.png alt="SpiderSoft logo"></div><div class="logo__item logo__text"><div class=logo__title>SpiderSoft</div><div class=logo__tagline>Software development</div></div></a></div><nav class=menu><button class=menu__btn aria-haspopup=true aria-expanded=false tabindex=0>
<span class=menu__btn-title tabindex=-1>Menu</span></button><ul class=menu__list><li class=menu__item><a class=menu__link href=/about/><span class=menu__text>About Us</span></a></li><li class=menu__item><a class=menu__link href=/projects/><span class=menu__text>Projects</span></a></li><li class=menu__item><a class=menu__link href=/categories/case-studies/><span class=menu__text>Case studies</span></a></li><li class=menu__item><a class=menu__link href=/services/><span class=menu__text>Agencies</span></a></li><li class=menu__item><a class=menu__link href=/contact-us/><span class=menu__text>Contact</span></a></li></ul></nav></div></header><div class="wrapper flex"><div class=primary><main class=main role=main><article class=post><header class=post__header><h1 class=post__title>MongoDB vs MySQL using golang</h1><div class="post__meta meta"><div class="meta__item-datetime meta__item"><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0a14 14 0 110 28 1 1 0 010-28m0 3a3 3 0 100 22 3 3 0 000-22m1 4h-2v8.4l6.8 4.4L22 18l-6-3.8z"/></svg><time class=meta__text datetime=2014-09-01T04:48:36Z>2014-09-01</time>
<time class=meta__text datetime=2014-09-01T04:48:36Z>(Last Modified: 2014-09-01)</time></div><div class="meta__item-categories meta__item"><svg class="meta__icon icon icon-category" width="16" height="16" viewBox="0 0 16 16"><path d="m7 2 1 2h8v11H0V2z"/></svg><span class=meta__text><a class=meta__link href=/categories/go-lang/ rel=category>Go Lang</a>, <a class=meta__link href=/categories/devops/ rel=category>DevOps</a></span></div></div></header><figure class=post__thumbnail><img src=/images/2014/09/mongo-vs-mysql_hu10563689788162130762.jpg alt="MongoDB vs MySQL using golang"></figure><div class="post__toc toc"><div class=toc__title>Page content</div><div class=toc__menu><nav id=TableOfContents><ul><li><a href=#testing-procedure>Testing procedure</a></li><li><a href=#running-queries>Running queries</a></li><li><a href=#concurrency> Concurrency</a></li><li><a href=#the-winner-is8230>The Winner Is…</a></li></ul></nav></div></div><div class="content post__content clearfix"><p>I’m the guy who like to test. Benchmark is my… middle name. You can find dozens articles about speed one or other solution. I mean
<a href=http://www.mongodb.org/>MongoDB</a>
and
<a href=http://www.mysql.com/>MySQL</a>
. I tried MongoDB couple times, and each time I wasn’t  moved by it speed. Got project coming in, when I have to deal with large amount of concurrent connection. It’s not very big, but bigger then casual MySQL load.</p><p>So… how did I test – very dump way. Got 2 tables, one around 11k records, second one close to 200k record. Not much. Fields were indexed in both MySQL and MongoDB. And then i run benchmarks. First one had string fields, second one numeric.</p><h2 id=testing-procedure>Testing procedure</h2><p>It’s not very sophisticated. With MySQL we have query like that <code>SELECT something FROM table WHERE key=?</code> (not primary) and with MongoDB pretty mych the same: <code>Find({key:string_value})</code>. Again – it’s not primary – it’s indexed field.</p><p>Both of them running in the same machine – my Mac Book Pro with SSD drives. Code is lunched from golang.</p><p>Measuring code is pretty ugly:</p><pre tabindex=0><code>t0 := time.Now()
for i := 0; i &lt; loop; i++ {
	getmongo()
}
t1 := time.Now()
fmt.Printf(&#34;The mongo 1 call took %v to run.\n\n&#34;, t1.Sub(t0))
</code></pre><p>and for MongoDB</p><pre tabindex=0><code>t0 = time.Now()
	for i := 0; i &lt; loop; i++ {
		getmysql()
	}
	t1 = time.Now()
	fmt.Printf(&#34;The mysql 1 call took %v to run.\n&#34;, t1.Sub(t0))
</code></pre><p>Let’s see results:</p><h2 id=running-queries>Running queries</h2><pre tabindex=0><code>The mongo 1 call took 2.230508ms to run.
The mysql 1 call took 900.2us to run.
------------------
The mongo 2 call took 1.229932ms to run.
The mysql 2 call took 718.89us to run.
</code></pre><p>Surprise surprise – MySQL is much more faster then MongoDB. Let’s run the same query 100 times.</p><pre tabindex=0><code>The mongo 1 call took 85.661532ms to run.
The mysql 1 call took 56.858658ms to run.
------------------
The mongo 2 call took 89.683713ms to run.
The mysql 2 call took 54.091382ms to run.
</code></pre><p>Again – MySQL wins. So… where is the catch ? Let’s run the same query 500 times</p><pre tabindex=0><code>The mongo 1 call took 396.514457ms to run.
The mysql 1 call took 254.117612ms to run.
------------------
The mongo 2 call took 409.387653ms to run.
The mysql 2 call took 269.543978ms to run.
</code></pre><p>It’s even worse. MongoDB still far behind. Let’s go crazy, and run the same query in parallel.</p><h2 id=concurrency> Concurrency</h2><p>We are going to modify out code to run them as
<a href=http://www.golang-book.com/10/index.htm>go routines</a>
:</p><pre tabindex=0><code>t0 := time.Now()
    for i := 0; i &lt; loop; i++ {
	go getmongo()
    }
    t1 := time.Now()
fmt.Printf(&#34;The mongo 1 call took %v to run.\n\n&#34;, t1.Sub(t0))
</code></pre><p>Let’s start with 100 in the same time:</p><pre tabindex=0><code>The mongo 1 call took 250.5us to run.
The mysql 1 call took 216.609us to run.
------------------
The mongo 2 call took 217.295us to run.
The mysql 2 call took 243.412us to run.
</code></pre><p>And 500</p><pre tabindex=0><code>The mongo 1 call took 1.153202ms to run.
The mysql 1 call took 1.201624ms to run.
------------------
The mongo 2 call took 1.19199ms to run.
The mysql 2 call took 1.202942ms to run.
</code></pre><p>So… MongoDB is start leading, when we run the same query as a concurrent queries. But still… difference is bit small to be excited about.</p><h2 id=the-winner-is8230>The Winner Is…</h2><p>Unfortunately there is no winner here. If you are looking for an answer “what is better” the answer, will be “it depends”. MySQL is good enough for most of purposes. MongoDB is good when you don’t have fixed structure os just looking for easy way just to chunk data into storage.</p></div><footer class=post__footer><div class="post__tags tags clearfix"><svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M4 0h8s2 0 4 2l15 15s2 2 0 4L21 31s-2 2-4 0L2 16s-2-2-2-4V3s0-3 4-3m3 10a3 3 0 000-6 3 3 0 000 6"/></svg><ul class=tags__list><li class=tags__item><a class="tags__link btn" href=/tags/fo/ rel=tag>fo</a></li><li class=tags__item><a class="tags__link btn" href=/tags/golang/ rel=tag>golang</a></li><li class=tags__item><a class="tags__link btn" href=/tags/mongodb/ rel=tag>mongodb</a></li><li class=tags__item><a class="tags__link btn" href=/tags/mysql/ rel=tag>mysql</a></li></ul></div></footer><footer class=post__related><section><h3>See Also</h3><ul><li><a href=/2017/how-to-choose-the-right-technology-for-your-next-project/>How to choose the right technology for your next project</a></li><li><a href=/2014/live-code-reload-in-golang/>Live code reload in golang</a></li><li><a href=/2014/reading-unknown-json-object-in-go-language/>Reading unknown JSON object in go language</a></li><li><a href=/2014/fetch-page-with-proxy-using-the-go-language/>Fetch page with proxy using The Go language</a></li><li><a href=/2023/docker-mysql-import-file/>How to quickly create a docker image with MySQL and import sql file</a></li></ul></section></footer></article></main><nav class="pager flex"><div class="pager__item pager__item--prev"><a class=pager__link href=/2014/how-to-manage-logs/ rel=prev><span class=pager__subtitle>«&#8201;Previous</span><p class=pager__title>How to manage logs</p></a></div><div class="pager__item pager__item--next"><a class=pager__link href=/2014/hhvm-on-amazon-ec2-in-2-minutes/ rel=next><span class=pager__subtitle>Next&#8201;»</span><p class=pager__title>HHVM on Amazon EC2 in 2 minutes</p></a></div></nav><section class=comments><div id=disqus_thread></div><script>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//spidersoft.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></section></div><aside class="sidebar sidebar--left"><div class="widget-search widget"><form class=widget-search__form role=search method=get action=https://duckduckgo.com/><label><input class=widget-search__field type=search placeholder=Search… name=q aria-label=Search…>
</label><input class=widget-search__submit type=submit value=Search>
<input type=hidden name=sites value=https://www.spidersoft.com.au/></form></div><div class="widget-categories widget"><h4 class=widget__title>Categories</h4><div class=widget__content><ul class=widget__list><li class=widget__item><a class=widget__link href=/categories/blog/>Blog</a></li><li class=widget__item><a class=widget__link href=/categories/case-studies/>Case Studies</a></li><li class=widget__item><a class=widget__link href=/categories/continuous-integration/>Continuous Integration</a></li><li class=widget__item><a class=widget__link href=/categories/devops/>DevOps</a></li><li class=widget__item><a class=widget__link href=/categories/go-lang/>Go Lang</a></li><li class=widget__item><a class=widget__link href=/categories/javascript/>JavaScript</a></li><li class=widget__item><a class=widget__link href=/categories/mac/>Mac</a></li><li class=widget__item><a class=widget__link href=/categories/open-source/>Open Source</a></li><li class=widget__item><a class=widget__link href=/categories/php/>PHP</a></li><li class=widget__item><a class=widget__link href=/categories/software/>Software</a></li><li class=widget__item><a class=widget__link href=/categories/swift/>Swift</a></li><li class=widget__item><a class=widget__link href=/categories/technologies/>Technologies</a></li><li class=widget__item><a class=widget__link href=/categories/web-development/>Web Development</a></li></ul></div></div><div class="widget-social widget"><h4 class="widget-social__title widget__title">Social</h4><div class="widget-social__content widget__content"><div class="widget-social__item widget__item"><a class="widget-social__link widget__link btn" title=Facebook rel="noopener noreferrer" href=https://facebook.com/spidersoftau target=_blank><svg class="widget-social__link-icon icon icon-facebook" width="24" height="24" viewBox="0 0 352 352"><path d="m0 32v288c0 17.5 14.5 32 32 32h288c17.5.0 32-14.5 32-32V32c0-17.5-14.5-32-32-32H32C14.5.0.0 14.5.0 32zm320 0v288h-83V212h41.5l6-48H237v-31c0-14 3.5-23.5 23.5-23.5h26V66c-4.4-.6-19.8-1.5-37.5-1.5-36.9.0-62 22.2-62 63.5v36h-42v48h42v108H32V32z"/></svg>
<span>Facebook</span></a></div><div class="widget-social__item widget__item"><a class="widget-social__link widget__link btn" title=Twitter rel="noopener noreferrer" href=https://twitter.com/slavomirj target=_blank><svg class="widget-social__link-icon icon icon-twitter" width="24" height="24" viewBox="0 0 384 312"><path d="m384 36.9c-14.1 6.3-29.3 10.5-45.2 12.4 16.3-9.7 28.8-25.2 34.6-43.6-15.2 9-32.1 15.6-50 19.1-14.4-15.2-34.9-24.8-57.5-24.8-43.5.0-78.8 35.3-78.8 78.8.0 6.2.7 12.2 2 17.9-65.5-3.3-123.5-34.6-162.4-82.3C20 26 16.1 39.6 16.1 54c0 27.3 13.9 51.4 35 65.6-12.9-.4-25.1-4-35.7-9.9v1c0 38.2 27.2 70 63.2 77.2-6.6 1.8-13.6 2.8-20.8 2.8-5.1.0-10-.5-14.8-1.4 10 31.3 39.1 54.1 73.6 54.7-27 21.1-60.9 33.7-97.8 33.7-6.4.0-12.6-.4-18.8-1.1C34.9 299 76.3 312 120.8 312c144.9.0 224.1-120 224.1-224.1.0-3.4-.1-6.8-.2-10.2 15.4-11.1 28.7-25 39.3-40.8z"/></svg>
<span>Twitter</span></a></div><div class="widget-social__item widget__item"><a class="widget-social__link widget__link btn" title=LinkedIn rel="noopener noreferrer" href=https://linkedin.com/in/slawomirjasinski target=_blank><svg class="widget-social__link-icon icon icon-linkedin" width="24" height="24" viewBox="0 0 352 352"><path d="M0 40v272c0 21.9 18.1 40 40 40h272c21.9.0 40-18.1 40-40V40c0-21.9-18.1-40-40-40H40C18.1.0.0 18.1.0 40zm312-8c4.6.0 8 3.4 8 8v272c0 4.6-3.4 8-8 8H40c-4.6.0-8-3.4-8-8V40c0-4.6 3.4-8 8-8H312zM59.5 87c0 15.2 12.3 27.5 27.5 27.5s27.5-12.3 27.5-27.5S102.2 59.5 87 59.5 59.5 71.8 59.5 87zM187 157h-1v-21h-45v152h47v-75c0-19.8 3.9-39 28.5-39 24.2.0 24.5 22.4 24.5 40v74h47v-83.5c0-40.9-8.7-72-56.5-72-23 0-38.2 12.6-44.5 24.5zM64 288h47.5V136H64V288z"/></svg>
<span>LinkedIn</span></a></div><div class="widget-social__item widget__item"><a class="widget-social__link widget__link btn" title=GitHub rel="noopener noreferrer" href=https://github.com/slav123 target=_blank><svg class="widget-social__link-icon icon icon-github" width="24" height="24" viewBox="0 0 384 374"><path d="m192 0C85.9.0.0 85.8.0 191.7c0 84.7 55 156.6 131.3 181.9 9.6 1.8 13.1-4.2 13.1-9.2.0-4.6-.2-16.6-.3-32.6-53.4 11.6-64.7-25.7-64.7-25.7-8.7-22.1-21.3-28-21.3-28-17.4-11.9 1.3-11.6 1.3-11.6 19.3 1.4 29.4 19.8 29.4 19.8 17.1 29.3 44.9 20.8 55.9 15.9 1.7-12.4 6.7-20.8 12.2-25.6-42.6-4.8-87.5-21.3-87.5-94.8.0-20.9 7.5-38 19.8-51.4-2-4.9-8.6-24.3 1.9-50.7.0.0 16.1-5.2 52.8 19.7 15.3-4.2 31.7-6.4 48.1-6.5 16.3.1 32.7 2.2 48.1 6.5 36.7-24.8 52.8-19.7 52.8-19.7 10.5 26.4 3.9 45.9 1.9 50.7 12.3 13.4 19.7 30.5 19.7 51.4.0 73.7-44.9 89.9-87.7 94.6 6.9 5.9 13 17.6 13 35.5.0 25.6-.2 46.3-.2 52.6.0 5.1 3.5 11.1 13.2 9.2C329 348.2 384 276.4 384 191.7 384 85.8 298 0 192 0z"/></svg>
<span>GitHub</span></a></div></div></div><div class="widget-sidemenu widget"><h4 class=widget__title>Menu</h4><nav class=widget__content><ul class=widget__list><li class=widget__item><a class=widget__link href=https://m.do.co/c/4d3f8f5c4118>DigitalOcean</a></li><li class=widget__item><a class=widget__link href=https://db.tt/ijgUW8i1>Dropbox</a></li><li class=widget__item><a class=widget__link href="http://www.namecheap.com?aff=9312">Namecheap</a></li></ul></nav></div></aside></div><footer class=footer><div class="container footer__container flex"><div class=footer__links><a class=footer__link href=/privacy-policy/>Privacy Policy</a> | <a class=footer__link href=/refund-policy/>Refund Policy</a> | <a class=footer__link href=/terms-and-conditions/>Term and conditions</a></div><div class=footer__copyright>&copy; 2024 SpiderSoft.
<span class=footer__copyright-credits>Generated with <a href=https://gohugo.io/ rel="nofollow noopener" target=_blank>Hugo</a> and <a href=https://github.com/Vimux/Mainroad/ rel="nofollow noopener" target=_blank>Mainroad</a> theme.</span></div></div></footer></div><script async defer src=/js/menu.js></script><script async src=https://js.sitesearch360.com/plugin/bundle/2996.js></script></body></html>